<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by TEMPLATED
http://templated.co
Released for free under the Creative Commons Attribution License

Name       : Classifieds  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20120528

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
-->
<title>---</title>
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
</head>
<body>
<div id="menu-wrapper">
	<div id="menu">
		<ul>
			<li class="current_page_item"><a href="#">POJ</a></li>
			<li><a href="about.html">আলতু ফালতু কথা</a></li>
		</ul>
	</div>
	<!-- end #menu -->
</div>
<div id="header-wrapper">
	<div id="header">
		<div id="logo">
			<h1>জ্যামিতি</h1>
		</div>
	</div>
</div>
<div id="wrapper">
	<!-- end #header -->
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
				<div id="content">
					<div class="post">
						<h2 class="title"><a href="#">POJ 1066 - Treasure Hunt</a></h2>
						<p class="meta"><span class="date">১৬ মে, ২০১৯</span></p>
						<div class="entry">
							<p><p class="links"><a href="http://poj.org/problem?id=1066" target="_blank">প্রবলেম লিংক</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">কোড</a></p></p>
							<p>এই প্রবলেমটা খুব সুন্দর। দেখতে অনেক কঠিন লাগে। বিএফএস-বিএফএস মনে হয়। আসলে তা না। আমরা জানি একটা সরলরেখার উপরের বিন্দু সেই রেখাকে সিদ্ধ করে। কিন্তু সেই রেখার ডানে বা বামে যদি কোন বিন্দু নেই, তাইলে সেটা সমীকরণ সিদ্ধ করে না।  তো একটা বিন্দু যদি সরলরেখাকে ছেদ না করে, তাইলে সেটা সমীকরণে বসালে পজেটিভ অথবা নেগেটিভ মান দিবে। আমরা জানি, সরলরেখা একটা তল কে দুই ভাগে ভাগ করে। এক ভাগের সকল বিন্দু সমীকরণে একই চিহ্নযুক্ত মান দেয়। এখন প্রবলেমে বলসে, আমরা কেমনে লাইনগুলা পার হয়ে বর্ডারে যাইতে পারি। তো আমরা করবো কি, সবগুলা বর্ডারের পয়েন্ট নিবো, নিয়ে দেখবো যে এইটার জন্য আমার শুরুর পয়েন্টে যাইতে কয়টা লাইন পার হওয়া লাগে। মানে ইনিশিয়াল পয়েন্ট আর বর্ডার পয়েন্ট যদি একই চিহ্ন দেয় তাইলে তারা একই সাইডে। যদি না দেয় তাইলে এটা পার হওয়া লাগবে।</p>
							<div>
	<button onclick="toggle()">কোড</button>
	<pre id="code-to-show" style="display:none">
	<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #557799">#include &lt;algorithm&gt;</span>
<span style="color: #557799">#include &lt;cassert&gt;</span>
<span style="color: #557799">#include &lt;cmath&gt;</span>
<span style="color: #557799">#include &lt;cstdio&gt;</span>
<span style="color: #557799">#include &lt;cstring&gt;</span>
<span style="color: #557799">#include &lt;iostream&gt;</span>
<span style="color: #557799">#include &lt;queue&gt;</span>
<span style="color: #557799">#include &lt;sstream&gt;</span>
<span style="color: #557799">#include &lt;vector&gt;</span>

<span style="color: #557799">#define filein freopen (&quot;in.txt&quot;, &quot;r&quot;, stdin)</span>
<span style="color: #557799">#define fileout freopen (&quot;out.txt&quot;, &quot;w&quot;, stdout)</span>
<span style="color: #557799">#define dbg(x) cerr &lt;&lt; #x &lt;&lt; &quot;: &quot; &lt;&lt; x &lt;&lt; endl</span>

<span style="color: #008800; font-weight: bold">using</span> <span style="color: #008800; font-weight: bold">namespace</span> std;
<span style="color: #008800; font-weight: bold">typedef</span> <span style="color: #333399; font-weight: bold">long</span> <span style="color: #333399; font-weight: bold">long</span> ll;

<span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">int</span> maxn <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">20000</span>;
<span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">double</span> eps <span style="color: #333333">=</span> <span style="color: #6600EE; font-weight: bold">1e-8</span>;

<span style="color: #333399; font-weight: bold">int</span> <span style="color: #0066BB; font-weight: bold">dcmp</span> (<span style="color: #333399; font-weight: bold">double</span> a){
    <span style="color: #008800; font-weight: bold">if</span> (fabs (a) <span style="color: #333333">&lt;</span> eps) <span style="color: #008800; font-weight: bold">return</span> <span style="color: #0000DD; font-weight: bold">0</span>;
    <span style="color: #008800; font-weight: bold">return</span> (a <span style="color: #333333">&gt;</span> eps <span style="color: #333333">?</span> <span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #333333">:</span> <span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>);
}

<span style="color: #008800; font-weight: bold">struct</span> pt{
    <span style="color: #333399; font-weight: bold">double</span> x, y;
    pt (){}
    pt (<span style="color: #333399; font-weight: bold">double</span> a, <span style="color: #333399; font-weight: bold">double</span> b){
        x <span style="color: #333333">=</span> a; y <span style="color: #333333">=</span> b;
    }
    <span style="color: #333399; font-weight: bold">void</span> get (){
        scanf (<span style="background-color: #fff0f0">&quot;%lf %lf&quot;</span>, <span style="color: #333333">&amp;</span>x, <span style="color: #333333">&amp;</span>y);
    }
};

<span style="color: #008800; font-weight: bold">struct</span> line{
    <span style="color: #333399; font-weight: bold">double</span> a, b, c;
    line(){}
    line(pt p, pt q){
        a <span style="color: #333333">=</span> p.y <span style="color: #333333">-</span> q.y;
        b <span style="color: #333333">=</span> q.x <span style="color: #333333">-</span> p.x;
        c <span style="color: #333333">=</span> <span style="color: #333333">-</span>a <span style="color: #333333">*</span> p.x <span style="color: #333333">-</span> b <span style="color: #333333">*</span> p.y;
    }
    <span style="color: #333399; font-weight: bold">double</span> plug (pt p){
        <span style="color: #008800; font-weight: bold">return</span> a <span style="color: #333333">*</span> p.x <span style="color: #333333">+</span> b <span style="color: #333333">*</span> p.y <span style="color: #333333">+</span> c;
    }
    pt intersection (line other){
        <span style="color: #333399; font-weight: bold">double</span> d <span style="color: #333333">=</span> a <span style="color: #333333">*</span> other.b <span style="color: #333333">-</span> b <span style="color: #333333">*</span> other.a;
        <span style="color: #333399; font-weight: bold">double</span> dx <span style="color: #333333">=</span> b <span style="color: #333333">*</span> other.c <span style="color: #333333">-</span> c <span style="color: #333333">*</span> other.b;
        <span style="color: #333399; font-weight: bold">double</span> dy <span style="color: #333333">=</span> c <span style="color: #333333">*</span> other.a <span style="color: #333333">-</span> a <span style="color: #333333">*</span> other.c;
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #0066BB; font-weight: bold">pt</span> (dx <span style="color: #333333">/</span> d, dy <span style="color: #333333">/</span> d);
    }
};

pt can[maxn];
line lines[maxn];

<span style="color: #333399; font-weight: bold">int</span> <span style="color: #0066BB; font-weight: bold">main</span> (){
<span style="color: #888888">//    filein;</span>
    can[<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">=</span> pt (<span style="color: #0000DD; font-weight: bold">0</span>, <span style="color: #0000DD; font-weight: bold">100</span>);
    can[<span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">=</span> pt (<span style="color: #0000DD; font-weight: bold">100</span>, <span style="color: #0000DD; font-weight: bold">100</span>);
    can[<span style="color: #0000DD; font-weight: bold">2</span>] <span style="color: #333333">=</span> pt (<span style="color: #0000DD; font-weight: bold">100</span>, <span style="color: #0000DD; font-weight: bold">0</span>);
    can[<span style="color: #0000DD; font-weight: bold">3</span>] <span style="color: #333333">=</span> pt (<span style="color: #0000DD; font-weight: bold">0</span>, <span style="color: #0000DD; font-weight: bold">0</span>);
    <span style="color: #333399; font-weight: bold">int</span> t;
    scanf (<span style="background-color: #fff0f0">&quot;%d&quot;</span>, <span style="color: #333333">&amp;</span>t);
    <span style="color: #333399; font-weight: bold">bool</span> f <span style="color: #333333">=</span> <span style="color: #007020">true</span>;
    <span style="color: #008800; font-weight: bold">while</span> (t<span style="color: #333333">--</span>){
        <span style="color: #008800; font-weight: bold">if</span> (<span style="color: #333333">!</span>f) puts (<span style="background-color: #fff0f0">&quot;&quot;</span>);
        f <span style="color: #333333">=</span> <span style="color: #007020">false</span>;
        <span style="color: #333399; font-weight: bold">int</span> n;
        scanf (<span style="background-color: #fff0f0">&quot;%d&quot;</span>, <span style="color: #333333">&amp;</span>n);
        <span style="color: #333399; font-weight: bold">int</span> cnt <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">4</span>, l <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>;
        <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; i <span style="color: #333333">&lt;</span> n; i<span style="color: #333333">++</span>){
            pt a, b;
            a.get(); b.get();
            lines[l<span style="color: #333333">++</span>] <span style="color: #333333">=</span> line (a, b);
            can[cnt<span style="color: #333333">++</span>] <span style="color: #333333">=</span> a;
            can[cnt<span style="color: #333333">++</span>] <span style="color: #333333">=</span> b;
        }
        pt x;
        x.get();
        <span style="color: #333399; font-weight: bold">int</span> ans <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">10000000</span>;
        <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; i <span style="color: #333333">&lt;</span> cnt; i<span style="color: #333333">++</span>){
            <span style="color: #333399; font-weight: bold">int</span> num <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>;
            <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #333399; font-weight: bold">int</span> j <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; j <span style="color: #333333">&lt;</span> l; j<span style="color: #333333">++</span>){
    <span style="color: #888888">//            cerr &lt;&lt; lines[j].plug (x) &lt;&lt; &quot; &quot; &lt;&lt; lines[j].plug (can[i]) &lt;&lt; endl;</span>
                <span style="color: #008800; font-weight: bold">if</span> (dcmp (lines[j].plug (x) <span style="color: #333333">*</span> lines[j].plug (can[i])) <span style="color: #333333">==</span> <span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>)
                    num<span style="color: #333333">++</span>;
            }
    <span style="color: #888888">//        cerr &lt;&lt; &quot;num &quot; &lt;&lt; num &lt;&lt; endl;</span>
            ans <span style="color: #333333">=</span> min (ans, num);
        }
        printf (<span style="background-color: #fff0f0">&quot;Number of doors = %d</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">&quot;</span>, ans <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>);
    }
    <span style="color: #008800; font-weight: bold">return</span> <span style="color: #0000DD; font-weight: bold">0</span>;
}
</pre></div>

	</pre>
	<script>
	show = false;
	codeElem = document.getElementById('code-to-show');
	function toggle() {
		show = !show;
		if (show)
			codeElem.style.display = "block";
		else
			codeElem.style.display = "none";
	}
	</script>
	</div>
						</div>
					</div>
					
					
					<div style="clear: both;">&nbsp;</div>
				</div> 
				<!-- end #content -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->
</div>
<div id="footer">
	
</div>
<!-- end #footer -->
</body>
</html>
